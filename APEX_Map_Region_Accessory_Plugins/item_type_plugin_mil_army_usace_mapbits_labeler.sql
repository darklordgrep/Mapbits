prompt --application/set_environment
set define off verify off feedback off
whenever sqlerror exit sql.sqlcode rollback
--------------------------------------------------------------------------------
--
-- ORACLE Application Express (APEX) export file
--
-- You should run the script connected to SQL*Plus as the Oracle user
-- APEX_210100 or as the owner (parsing schema) of the application.
--
-- NOTE: Calls to apex_application_install override the defaults below.
--
--------------------------------------------------------------------------------
begin
wwv_flow_api.import_begin (
 p_version_yyyy_mm_dd=>'2021.04.15'
,p_release=>'21.1.0'
,p_default_workspace_id=>2612926235066099
,p_default_application_id=>107981
,p_default_id_offset=>197864740331967674
,p_default_owner=>'MVDGIS'
);
end;
/
 
prompt APPLICATION 107981 - Mapbits Demo
--
-- Application Export:
--   Application:     107981
--   Name:            Mapbits Demo
--   Date and Time:   12:52 Friday January 27, 2023
--   Exported By:     GREP
--   Flashback:       0
--   Export Type:     Component Export
--   Manifest
--     PLUGIN: 210566314534309860
--   Manifest End
--   Version:         21.1.0
--   Instance ID:     61817619049184
--

begin
  -- replace components
  wwv_flow_api.g_mode := 'REPLACE';
end;
/
prompt --application/shared_components/plugins/item_type/mil_army_usace_mapbits_labeler
begin
wwv_flow_api.create_plugin(
 p_id=>wwv_flow_api.id(210566314534309860)
,p_plugin_type=>'ITEM TYPE'
,p_name=>'MIL.ARMY.USACE.MAPBITS.LABELER'
,p_display_name=>'Mapbits Labeler'
,p_supported_ui_types=>'DESKTOP'
,p_supported_component_types=>'APEX_APPLICATION_PAGE_ITEMS:APEX_APPL_PAGE_IG_COLUMNS'
,p_javascript_file_urls=>'#PLUGIN_FILES#mapbits-labeler.js'
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'procedure mapbits_rasterlayer (',
'    p_item   in            apex_plugin.t_item,',
'    p_plugin in            apex_plugin.t_plugin,',
'    p_param  in            apex_plugin.t_item_render_param,',
'    p_result in out nocopy apex_plugin.t_item_render_result ) is',
'    l_region_id varchar2(4000); --apex_application_page_regions.region_id%type;',
'    l_sequence_no   number;',
'    l_layer_name varchar2(400) := p_item.attribute_01;',
'    l_error varchar2(4000) := ''''; ',
'    l_info_source varchar2(20) := p_item.attribute_02;',
'    l_zoomRange varchar2(20) := nvl(p_item.attribute_03, ''0,24'');',
'    l_offset varchar2(100) := nvl(p_item.attribute_04, ''10,10'');',
'    l_anchor varchar2(100) := nvl(p_item.attribute_05, ''center'');',
'    l_suppress varchar2(5);',
'begin',
'  begin',
'    select nvl(r.static_id, ''R'' || r.region_id), i.display_sequence into l_region_id, l_sequence_no  ',
'      from apex_application_page_items i ',
'      inner join apex_application_page_regions r on i.region_id = r.region_id ',
'      where i.item_id = p_item.id and r.source_type = ''Map'';',
'  exception',
'    when NO_DATA_FOUND then ',
'      apex_debug.message(',
'        p_message => ''ERROR: Map Layer WMS Item [%s] is not associated with a Map region.'',',
'        p0      => p_item.id,',
'        p_level   => apex_debug.c_log_level_error',
'      );',
'      l_error := l_error || ''ERROR: Map Layer Raster Item ['' ||p_item.id || ''] is not associated with a Map region.'';',
'  end;',
'',
'  -- Info Window suppression attribute',
'  if not p_item.attribute_06 is null then',
'    if p_item.attribute_06  = ''Y'' then',
'      l_suppress := ''true'';',
'    else',
'      l_suppress := ''false'';',
'    end if;',
'  else',
'    l_suppress := ''false'';',
'  end if;',
'',
'  htp.p(''<div id="'' || p_item.name || ''" name="'' || p_item.name || ''"></div>'');',
'  apex_javascript.add_onload_code(p_code => ''apex.jQuery('' || l_region_id || '').on("spatialmapinitialized", function(){',
'    mapbits_labeler("'' || p_item.name || ''", "'' || apex_plugin.get_ajax_identifier || ''", "'' || l_region_id || ''", {p_layer_name : "''  || l_layer_name || ''", p_info_source : "'' || l_info_source || ''", p_zoom_range : "'' || l_zoomRange ||''", p_offset :'
||' ['' || l_offset || ''], p_anchor : "'' || l_anchor || ''", p_suppress_info_window : '' || l_suppress || ''});});'', ',
'    p_key => ''MIL.ARMY.USACE.MAPBITS.LAYER.RASTER'' || p_item.name);',
'end;'))
,p_api_version=>2
,p_render_function=>'mapbits_rasterlayer'
,p_substitute_attributes=>true
,p_subscribe_plugin_settings=>true
,p_help_text=>'The Mapbits Labeler plugin uses the tooltip or the Info Window of a Map region native layer to display labels for that layer. Add the plugin as an item under an APEX Map region and set the <b>Layer Name</b> to the name of a native layer in the map re'
||'gion.'
,p_version_identifier=>'4.3.20230127'
,p_about_url=>'https://github.com/darklordgrep/Mapbits'
,p_plugin_comment=>wwv_flow_string.join(wwv_flow_t_varchar2(
'Module   : Mapbits 4 - Labeler',
'Location : $Id: item_type_plugin_mil_army_usace_mapbits_labeler.sql 17828 2023-01-27 19:10:20Z b2imimcf $',
'Date     : $Date: 2023-01-27 13:10:20 -0600 (Fri, 27 Jan 2023) $',
'Revision : $Revision: 17828 $',
'Requires : Application Express >= 21.1',
'',
'Version 4.3 Updates:',
'1/27/2023 To work with APEX 22.2, changed event hook to the map region''s spatialmapinitialized event in place of the page''s apexreadyend event.',
'8/13/2022 Modified to work with both mapbox and maplibre.',
'5/6/2022 - Changed labeling implementation to work when rendered features are changed (like with a facet for instance). Added an option to suppress Info Windows.',
''))
,p_files_version=>88
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(210594455329102349)
,p_plugin_id=>wwv_flow_api.id(210566314534309860)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'Layer Name'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_is_translatable=>false
,p_help_text=>'Name of map region native layer to be labeled.'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(210595046335104999)
,p_plugin_id=>wwv_flow_api.id(210566314534309860)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>2
,p_display_sequence=>20
,p_prompt=>'Info Source'
,p_attribute_type=>'SELECT LIST'
,p_is_required=>false
,p_default_value=>'tooltip'
,p_is_translatable=>false
,p_lov_type=>'STATIC'
,p_help_text=>'If set to ''Tooltip'', use the layer''s tooltip region for the label contents. If set to ''Info Window'', use the layer''s Info Window for the label contents.'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210595710863106068)
,p_plugin_attribute_id=>wwv_flow_api.id(210595046335104999)
,p_display_sequence=>10
,p_display_value=>'Tooltip'
,p_return_value=>'tooltip'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210596135069111049)
,p_plugin_attribute_id=>wwv_flow_api.id(210595046335104999)
,p_display_sequence=>20
,p_display_value=>'Info Window'
,p_return_value=>'infoWindow'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(210600004796520036)
,p_plugin_id=>wwv_flow_api.id(210566314534309860)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>3
,p_display_sequence=>30
,p_prompt=>'Zoom Range'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_is_translatable=>false
,p_examples=>'8,24'
,p_help_text=>'Set the minimum and maximum zoom levels for which the layer is visible. Format is comma delimited: MIN,MAX. Levels can range from 0 to 24, where 0 is the entire Earth and 24 is individual buildings.'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(210624913164488457)
,p_plugin_id=>wwv_flow_api.id(210566314534309860)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>4
,p_display_sequence=>40
,p_prompt=>'Offset'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_is_translatable=>false
,p_examples=>'20,0'
,p_help_text=>'Map label offset in pixels as X,Y'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(210628794942528564)
,p_plugin_id=>wwv_flow_api.id(210566314534309860)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>5
,p_display_sequence=>50
,p_prompt=>'Anchor'
,p_attribute_type=>'SELECT LIST'
,p_is_required=>false
,p_default_value=>'center'
,p_is_translatable=>false
,p_lov_type=>'STATIC'
,p_help_text=>'Offset reference used for placement of labels.'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210630009402529315)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>10
,p_display_value=>'center'
,p_return_value=>'center'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210630384211529847)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>20
,p_display_value=>'top'
,p_return_value=>'top'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210630821514530499)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>30
,p_display_value=>'bottom'
,p_return_value=>'bottom'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210631217290531072)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>40
,p_display_value=>'left'
,p_return_value=>'left'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210631570732531640)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>50
,p_display_value=>'right'
,p_return_value=>'right'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210631994727532388)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>60
,p_display_value=>'top-left'
,p_return_value=>'top-left'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210632380404533253)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>70
,p_display_value=>'top-right'
,p_return_value=>'top-right'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210632749407534249)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>80
,p_display_value=>'bottom-left'
,p_return_value=>'bottom-left'
);
wwv_flow_api.create_plugin_attr_value(
 p_id=>wwv_flow_api.id(210633147431535635)
,p_plugin_attribute_id=>wwv_flow_api.id(210628794942528564)
,p_display_sequence=>90
,p_display_value=>'bottom-right'
,p_return_value=>'bottom-right'
);
wwv_flow_api.create_plugin_attribute(
 p_id=>wwv_flow_api.id(219783287495176218)
,p_plugin_id=>wwv_flow_api.id(210566314534309860)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>6
,p_display_sequence=>60
,p_prompt=>'Suppress  Map Info Windows'
,p_attribute_type=>'CHECKBOX'
,p_is_required=>false
,p_default_value=>'N'
,p_is_translatable=>false
,p_depending_on_attribute_id=>wwv_flow_api.id(210595046335104999)
,p_depending_on_has_to_exist=>true
,p_depending_on_condition_type=>'EQUALS'
,p_depending_on_expression=>'infoWindow'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'If Yes, then the this plugin will suppress Info Windows in the map. This can be useful if you are using the Info Window data for the label and don''t want to user to be able to click on features and see the same data in the Info Window.',
'Unfortunately, this will suppress all Info Windows for all layers, including ones you are not labeling. If more than one Labeler plugin is associated with a map region, then you will see the suppression if any of them  have this option set to Yes.'))
);
end;
/
begin
wwv_flow_api.g_varchar2_table := wwv_flow_api.empty_varchar2_table;
wwv_flow_api.g_varchar2_table(1) := '66756E6374696F6E206D6170626974735F6C6162656C657228705F6974656D5F69642C20705F616A61785F6964656E7469666965722C20705F726567696F6E5F69642C20705F6F7074696F6E7329207B090D0A2020766172206D61706C6962203D207479';
wwv_flow_api.g_varchar2_table(2) := '70656F66206D61706C69627265676C203D3D3D2027756E646566696E656427203F206D6170626F78676C203A206D61706C69627265676C3B090D0A20200D0A20202F2F2072616973652061206A61766173637269707420616C6572742077697468207468';
wwv_flow_api.g_varchar2_table(3) := '6520696E707574206D65737361676520616E6420777269746520746F20636F6E736F6C652E0D0A202066756E6374696F6E20617065785F616C657274286D736729207B0D0A20202020617065782E6A51756572792866756E6374696F6E28297B61706578';
wwv_flow_api.g_varchar2_table(4) := '2E6D6573736167652E616C657274286D7367293B636F6E736F6C652E6C6F67286D7367293B7D293B0D0A20207D0D0A20200D0A20202F2F20676574207468652063656E74726F6964206F6620612047656F4A534F4E2067656F6D657472792E2072657475';
wwv_flow_api.g_varchar2_table(5) := '726E2061204C6E674C6174426F756E6473206F626A6563742E0D0A202066756E6374696F6E2067657443656E74726F69642867656F6D29207B0D0A202020206966202867656F6D2E74797065203D3D20274D756C7469506F6C79676F6E2729207B0D0A20';
wwv_flow_api.g_varchar2_table(6) := '2020202020766172207274203D206E6577206D61706C69622E4C6E674C6174426F756E647328293B0D0A202020202020666F7220287661722069203D20303B693C67656F6D2E636F6F7264696E617465732E6C656E6774683B692B2B29207B0D0A202020';
wwv_flow_api.g_varchar2_table(7) := '2020202020666F722028766172206A203D20303B6A3C67656F6D2E636F6F7264696E617465735B695D2E6C656E6774683B6A2B2B29207B0D0A20202020202020202020666F722028766172206B203D20303B6B3C67656F6D2E636F6F7264696E61746573';
wwv_flow_api.g_varchar2_table(8) := '5B695D5B6A5D2E6C656E6774683B6B2B2B29207B0D0A20202020202020202020202072742E657874656E64286E6577206D61706C69622E4C6E674C61742867656F6D2E636F6F7264696E617465735B695D5B6A5D5B6B5D5B305D2C2067656F6D2E636F6F';
wwv_flow_api.g_varchar2_table(9) := '7264696E617465735B695D5B6A5D5B6B5D5B315D29293B0D0A202020202020202020207D0D0A20202020202020207D0D0A2020202020207D0D0A20202020202072657475726E205B2872742E676574576573742829202B2072742E676574456173742829';
wwv_flow_api.g_varchar2_table(10) := '29202F20322E302C2872742E6765744E6F7274682829202B2072742E676574536F757468282929202F20322E305D3B0D0A202020207D0D0A202020206966202867656F6D2E74797065203D3D2027506F6C79676F6E27207C7C2067656F6D2E7479706520';
wwv_flow_api.g_varchar2_table(11) := '3D3D20274D756C74694C696E65537472696E672729207B0D0A202020202020766172207274203D206E6577206D61706C69622E4C6E674C6174426F756E647328293B0D0A202020202020666F7220287661722069203D20303B693C67656F6D2E636F6F72';
wwv_flow_api.g_varchar2_table(12) := '64696E617465732E6C656E6774683B692B2B29207B0D0A20202020202020202020666F722028766172206A203D20303B6A3C67656F6D2E636F6F7264696E617465735B695D2E6C656E6774683B6A2B2B29207B0D0A20202020202020202020202072742E';
wwv_flow_api.g_varchar2_table(13) := '657874656E64286E6577206D61706C69622E4C6E674C61742867656F6D2E636F6F7264696E617465735B695D5B6A5D5B305D2C2067656F6D2E636F6F7264696E617465735B695D5B6A5D5B315D29293B0D0A202020202020202020207D0D0A2020202020';
wwv_flow_api.g_varchar2_table(14) := '2020207D0D0A20202020202072657475726E205B2872742E676574576573742829202B2072742E67657445617374282929202F20322E302C2872742E6765744E6F7274682829202B2072742E676574536F757468282929202F20322E305D3B0D0A202020';
wwv_flow_api.g_varchar2_table(15) := '207D0D0A202020206966202867656F6D2E74797065203D3D20274C696E65537472696E672729207B0D0A202020202020766172207274203D206E6577206D61706C69622E4C6E674C6174426F756E647328293B0D0A202020202020666F72202876617220';
wwv_flow_api.g_varchar2_table(16) := '69203D20303B693C67656F6D2E636F6F7264696E617465732E6C656E6774683B692B2B29207B0D0A202020202020202072742E657874656E64286E6577206D61706C69622E4C6E674C61742867656F6D2E636F6F7264696E617465735B695D5B305D2C20';
wwv_flow_api.g_varchar2_table(17) := '67656F6D2E636F6F7264696E617465735B695D5B315D29293B0D0A2020202020207D0D0A20202020202072657475726E205B2872742E676574576573742829202B2072742E67657445617374282929202F20322E302C2872742E6765744E6F7274682829';
wwv_flow_api.g_varchar2_table(18) := '202B2072742E676574536F757468282929202F20322E305D3B0D0A202020207D0D0A202020206966202867656F6D2E74797065203D3D2027506F696E742729207B0D0A20202020202072657475726E205B67656F6D2E636F6F7264696E617465735B305D';
wwv_flow_api.g_varchar2_table(19) := '2C2067656F6D2E636F6F7264696E617465735B315D5D3B0D0A202020207D0D0A20207D0D0A20200D0A2020636F6E737420705F6C617965725F6E616D65203D20705F6F7074696F6E735B27705F6C617965725F6E616D65275D3B0D0A2020636F6E737420';
wwv_flow_api.g_varchar2_table(20) := '705F696E666F5F736F75726365203D20705F6F7074696F6E735B27705F696E666F5F736F75726365275D3B0D0A2020636F6E737420705F7A6F6F6D5F72616E6765203D20705F6F7074696F6E735B27705F7A6F6F6D5F72616E6765275D3B0D0A2020636F';
wwv_flow_api.g_varchar2_table(21) := '6E737420705F6F6666736574203D20705F6F7074696F6E735B27705F6F6666736574275D3B0D0A2020636F6E737420705F616E63686F72203D20705F6F7074696F6E735B27705F616E63686F72275D3B0D0A2020636F6E737420705F7375707072657373';
wwv_flow_api.g_varchar2_table(22) := '5F696E666F5F77696E646F77203D20705F6F7074696F6E735B27705F73757070726573735F696E666F5F77696E646F77275D3B20200D0A20200D0A2020766172206D6170203D20617065782E726567696F6E28705F726567696F6E5F6964292E63616C6C';
wwv_flow_api.g_varchar2_table(23) := '28276765744D61704F626A65637427293B0D0A2020766172206C617965724964203D20617065782E726567696F6E28705F726567696F6E5F6964292E63616C6C28276765744C61796572496442794E616D65272C20705F6C617965725F6E616D65293B0D';
wwv_flow_api.g_varchar2_table(24) := '0A202069662028216C61796572496429207B0D0A20202020617065785F616C6572742827436F6E66696775726174696F6E204572726F723A20496E76616C6964204C61796572204E616D65205B27202B20705F6C617965725F6E616D65202B20275D2729';
wwv_flow_api.g_varchar2_table(25) := '3B0D0A2020202072657475726E3B202020200D0A20207D0D0A2020766172206C6162656C436C617373203D20276D61706C6162656C5F27202B20705F6974656D5F69643B0D0A2020766172207A6F6F6D52616E6765203D205B302C32345D3B0D0A202076';
wwv_flow_api.g_varchar2_table(26) := '6172206C6162656C4172726179203D207B7D3B0D0A20202F2F766172206C6162656C4172726179203D205B5D3B0D0A20200D0A20202F2F2067657420746865207669736962696C697479207A6F6F6D206C6576656C2072616E67652E0D0A202069662028';
wwv_flow_api.g_varchar2_table(27) := '6E65772052656745787028275E5B302D395D2B2C5B302D395D2B2427292E7465737428705F7A6F6F6D5F72616E67652929207B0D0A20202020636F6E737420746F6B203D20705F7A6F6F6D5F72616E67652E73706C697428222C22293B0D0A2020202063';
wwv_flow_api.g_varchar2_table(28) := '6F6E7374207A6D696E203D207061727365496E7428746F6B5B305D293B0D0A20202020636F6E7374207A6D6178203D207061727365496E7428746F6B5B315D293B0D0A202020200D0A20202020696620287A6D696E203E3D2030202626207A6D6178203C';
wwv_flow_api.g_varchar2_table(29) := '3D20323429207B0D0A2020202020207A6F6F6D52616E67655B305D203D207A6D696E3B0D0A2020202020207A6F6F6D52616E67655B315D203D207A6D61783B0D0A202020207D20656C7365207B0D0A202020202020617065785F616C6572742827436F6E';
wwv_flow_api.g_varchar2_table(30) := '66696775726174696F6E204572726F723A20436F756C64206E6F74207365742072616E6765206F66205B27202B20705F6C617965725F6E616D65202B20275D207573696E67206F7574206F662072616E6765207A6F6F6D206C696D697473205B27202B20';
wwv_flow_api.g_varchar2_table(31) := '705F7A6F6F6D5F72616E6765202B20225D2E204D696E206973203020616E64206D61782069732032342E22293B0D0A202020207D0D0A20207D20656C7365207B0D0A20202020617065785F616C6572742827436F6E66696775726174696F6E204572726F';
wwv_flow_api.g_varchar2_table(32) := '723A20436F756C64206E6F74207365742072616E6765206F66205B27202B20705F6C617965725F6E616D65202B20275D207573696E67207A6F6F6D206C696D697473205B27202B20705F7A6F6F6D5F72616E6765202B20225D22293B0D0A20207D0D0A20';
wwv_flow_api.g_varchar2_table(33) := '200D0A20202F2F207768656E2064617461206973206C6F6164656420696E746F20746865206D61702C2069746572617465207468726F7567682074686520666561747572657320696E20746865206C617965720D0A20202F2F20616E6420637265617465';
wwv_flow_api.g_varchar2_table(34) := '20746865206C6162656C732E0D0A202066756E6374696F6E206C6162656C44617461286529207B0D0A202020202F2F2072656D6F766520616C6C206578697374696E67206C6162656C732E0D0A20202020666F722028766172206C66696420696E206C61';
wwv_flow_api.g_varchar2_table(35) := '62656C417272617929207B0D0A202020202020766172206C66656174203D206C6162656C41727261795B6C6669645D3B0D0A2020202020206C666561742E72656D6F766528293B200D0A202020207D0D0A202020206C6162656C4172726179203D205B5D';
wwv_flow_api.g_varchar2_table(36) := '0D0A0D0A202020202F2F20496620746865206D6170277320657874656E74732069732077697468696E20746865207A6F6F6D206C6576656C2072616E67652C207468656E20637265617465206C6162656C732E0D0A20202020696620286D61702E676574';
wwv_flow_api.g_varchar2_table(37) := '5A6F6F6D2829203E3D207A6F6F6D52616E67655B305D202626206D61702E6765745A6F6F6D2829203C3D207A6F6F6D52616E67655B315D29207B0D0A2020202020202F2F20686964652074686520696E666F77696E646F77206966206C6162656C696E67';
wwv_flow_api.g_varchar2_table(38) := '207573696E6720696E666F77696E646F7720636F6E74656E7420616E642073757070726573732077696E646F77206F7074696F6E2073657420746F20747275652E0D0A2020202020202F2F206E65656420746F20666967757265206F757420686F772074';
wwv_flow_api.g_varchar2_table(39) := '6F2069736C6F61746520746865206C6162656C6564206C6179657220696E666F77696E646F77732E0D0A20202020202069662028705F73757070726573735F696E666F5F77696E646F7720262620705F696E666F5F736F75726365203D3D2027696E666F';
wwv_flow_api.g_varchar2_table(40) := '57696E646F772729207B20200D0A2020202020202020617065782E6A517565727928276469762E6D6170626F78676C2D706F7075702E6D6170626F78676C2D706F7075702D616E63686F722D746F7027292E6373732827646973706C6179272C20276E6F';
wwv_flow_api.g_varchar2_table(41) := '6E6527293B0D0A2020202020207D0D0A2020202020200D0A2020202020202F2F206765742074686520616C6C2072656E6465726564206665617475726573202866696C746572206279206C61796572206E616D6520646F6573206E6F7420617070656172';
wwv_flow_api.g_varchar2_table(42) := '20746F20776F726B202D20636865636B206C61796572206964206D616E75616C6C79292E0D0A2020202020202F2F20666F72206561636820666561747572652C206372656174652061204D61726B65722E0D0A202020202020636F6E7374206665617473';
wwv_flow_api.g_varchar2_table(43) := '203D206D61702E717565727952656E6465726564466561747572657328293B0D0A2020202020207661722072656E646572656446656174496473203D205B5D3B2020202020200D0A202020202020666F722028636F6E73742066656174206F6620666561';
wwv_flow_api.g_varchar2_table(44) := '747329207B0D0A202020202020202069662028666561742E6C617965722E6964203D3D206C61796572496429207B0D0A202020202020202020202F2F2073746F72652065616368206665617475726520696420696E20616E20617272617920746F206465';
wwv_flow_api.g_varchar2_table(45) := '6C6574652070726576696F7573206C6162656C73206F6E206E6578742072656E6465722E0D0A2020202020202020202072656E6465726564466561744964732E7075736828666561742E6964293B0D0A202020202020202020200D0A2020202020202020';
wwv_flow_api.g_varchar2_table(46) := '20202F2F2066726F6D2074686520666561747572652C20676574207468652063656E74726F696420616E6420706172736520746865206C6162656C20636F6E74656E74206173204A534F4E2E200D0A202020202020202020207661722063656E743D2067';
wwv_flow_api.g_varchar2_table(47) := '657443656E74726F696428666561742E67656F6D65747279293B2020202020200D0A202020202020202020207661722070726F7073203D204A534F4E2E706172736528666561742E70726F706572746965735B705F696E666F5F736F757263655D293B0D';
wwv_flow_api.g_varchar2_table(48) := '0A202020202020202020200D0A202020202020202020202F2F20696620746865726520697320612074656D706C6174652C207265706C6163652074656D706C61746520706C616365686F6C646572732077697468207468656972207265616C2076616C75';
wwv_flow_api.g_varchar2_table(49) := '65732C0D0A202020202020202020202F2F206F74686572776973652C206A75737420646973706C61792074686520626F6479206F7220636F6E74656E742E0D0A202020202020202020206966202870726F70732E636F6E74656E742E74656D706C617465';
wwv_flow_api.g_varchar2_table(50) := '29207B0D0A20202020202020202020202073203D2070726F70732E636F6E74656E742E74656D706C6174653B0D0A202020202020202020202020666F7228766172206B20696E2070726F70732E636F6C756D6E7329207B0D0A2020202020202020202020';
wwv_flow_api.g_varchar2_table(51) := '20202073203D20732E7265706C61636528272627202B206B202B20272E272C2070726F70732E636F6C756D6E735B6B5D293B0D0A2020202020202020202020207D0D0A202020202020202020207D20656C7365206966202870726F70732E636F6E74656E';
wwv_flow_api.g_varchar2_table(52) := '742E626F64792920207B0D0A20202020202020202020202073203D2070726F70732E636F6E74656E742E626F64793B0D0A202020202020202020207D20656C73657B0D0A20202020202020202020202073203D2070726F70732E636F6E74656E743B0D0A';
wwv_flow_api.g_varchar2_table(53) := '202020202020202020207D20200D0A202020202020202020200D0A202020202020202020202F2F20637265617465207468652048544D4C20656C656D656E7420616E64206D61726B65722E0D0A2020202020202020202076617220656C203D20646F6375';
wwv_flow_api.g_varchar2_table(54) := '6D656E742E637265617465456C656D656E74282764697627293B0D0A20202020202020202020656C2E696E6E657248544D4C203D20273C64697620636C6173733D2227202B206C6162656C436C617373202B2027223E27202B2073202B20273C2F646976';
wwv_flow_api.g_varchar2_table(55) := '3E273B0D0A0D0A20202020202020202020696620286C6162656C41727261795B666561742E69645D20213D3D20756E646566696E656429207B0D0A202020202020202020202020206C6162656C41727261795B666561742E69645D2E72656D6F76652829';
wwv_flow_api.g_varchar2_table(56) := '3B0D0A202020202020202020207D0D0A202020202020202020206C6162656C41727261795B666561742E69645D203D206E6577206D61706C69622E4D61726B6572287B656C656D656E743A20656C2C206F66667365743A20705F6F66667365742C20616E';
wwv_flow_api.g_varchar2_table(57) := '63686F723A20705F616E63686F727D292E7365744C6E674C61742863656E74292E616464546F286D6170293B0D0A20202020202020207D0D0A2020202020207D0D0A202020207D0D0A20207D0D0A20206D61702E6F6E282769646C65272C206C6162656C';
wwv_flow_api.g_varchar2_table(58) := '44617461293B200D0A7D0D0A0D0A';
null;
end;
/
begin
wwv_flow_api.create_plugin_file(
 p_id=>wwv_flow_api.id(210588083746013644)
,p_plugin_id=>wwv_flow_api.id(210566314534309860)
,p_file_name=>'mapbits-labeler.js'
,p_mime_type=>'application/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_api.varchar2_to_blob(wwv_flow_api.g_varchar2_table)
);
end;
/
prompt --application/end_environment
begin
wwv_flow_api.import_end(p_auto_install_sup_obj => nvl(wwv_flow_application_install.get_auto_install_sup_obj, false));
commit;
end;
/
set verify on feedback on define on
prompt  ...done
